<!doctype html>
<html data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>mdxw preview</title>

    <!-- Base fixes (container bg/fg + pre background tweaks) -->
	<link rel="stylesheet" href="./deps/basic.css" />
	<!-- GitHub Markdown styles: load both, toggle disabled -->
	<link id="md-light" rel="stylesheet" href="./deps/github-markdown-light.css" />
	<link id="md-dark"  rel="stylesheet" href="./deps/github-markdown-dark.css" disabled />
	<!-- highlight.js themes: load both, toggle disabled -->
	<link id="hljs-light" rel="stylesheet" href="./deps/github.min.css" />
	<link id="hljs-dark"  rel="stylesheet" href="./deps/github-dark.min.css" disabled />
	<style>
	  /* ---- Fonts (TTF) ---- */
	  @font-face {
		font-family: "mdxw-noto";
		font-style: normal;
		font-weight: 400;
		src: url("./fonts/NotoSans.ttf") format("truetype");
		font-display: swap;
	  }
	  @font-face {
		font-family: "mdxw-noto-sc";
		font-style: normal;
		font-weight: 400;
		src: url("./fonts/NotoSansSC.ttf") format("truetype");
		font-display: swap;
	  }
	  @font-face {
		font-family: "mdxw-noto-tc";
		font-style: normal;
		font-weight: 400;
		src: url("./fonts/NotoSansTC.ttf") format("truetype");
		font-display: swap;
	  }

	  body {
		margin: 0;
		/* let basic.css control bg/fg via .preview / .dark-mode */
		font-family:
		  "mdxw-noto-tc",
		  "mdxw-noto-sc",
		  "mdxw-noto",
		  system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial,
		  "Noto Sans", "PingFang TC", "PingFang SC", "Microsoft JhengHei", "Microsoft YaHei",
		  sans-serif;
	  }

	  /* ---- Toolbar (ours) ---- */
	  .mdxw-toolbar {
		position: sticky;
		top: 0;
		z-index: 9999;
		display: flex;
		align-items: center;
		gap: 8px;
		padding: 10px 12px;
		backdrop-filter: blur(10px);
		-webkit-backdrop-filter: blur(10px);
		/* light default */
		background: rgba(250, 250, 250, 0.92);
		border-bottom: 1px solid rgba(0, 0, 0, 0.08);
	  }

	  body.dark-mode .mdxw-toolbar {
		background: rgba(20, 22, 28, 0.88);
		border-bottom: 1px solid rgba(255, 255, 255, 0.10);
	  }

	  .mdxw-toolbar .spacer { flex: 1; }

	  .mdxw-btn {
		appearance: none;
		border-radius: 10px;
		padding: 7px 10px;
		font-size: 13px;
		cursor: pointer;
		/* light default */
		background: #fff;
		color: #111;
		border: 1px solid rgba(0, 0, 0, 0.12);
	  }

	  body.dark-mode .mdxw-btn {
		background: rgba(255, 255, 255, 0.06);
		color: #e8e8e8;
		border: 1px solid rgba(255, 255, 255, 0.14);
	  }

	  .mdxw-btn:active { transform: translateY(0.5px); }

	  /* ---- Content layout only (appearance from github-markdown-*.css + basic.css) ---- */
	  #content.markdown-body {
		box-sizing: border-box;
		padding: 16px 24px;
		max-width: 980px;
		margin: 0 auto;
	  }

	  /* ---- Print / Export PDF ---- */
	  @media print {
		.mdxw-toolbar { display: none !important; }
		#content.markdown-body { max-width: none; padding: 0; }
	  }

	  html, body {
		transition: background-color 180ms ease, color 180ms ease;
	  }

	  .mdxw-toolbar {
		transition: background-color 180ms ease, border-color 180ms ease;
	  }

	  .mdxw-btn {
		transition: background-color 180ms ease, color 180ms ease, border-color 180ms ease;
	  }
	  .preview {
		transition: background-color 180ms ease, color 180ms ease, border-color 180ms ease;
	  }
	  .preview pre {
		transition: background-color 180ms ease, border-color 180ms ease;
	  }

	  .mdxw-btn:hover {
		cursor: pointer;
		transform: translateY(-0.5px);
		filter: brightness(1.03);
	  }

	  .mdxw-btn:focus-visible {
		outline: 2px solid rgba(0, 0, 0, 0.25);
		outline-offset: 2px;
	  }

	  body.dark-mode .mdxw-btn:focus-visible {
		outline: 2px solid rgba(255, 255, 255, 0.25);
	  }

	</style>

  </head>

  <body>
    <div class="mdxw-toolbar">
	  <button id="btn-theme" class="mdxw-btn" type="button" title="Toggle theme">ðŸŒ™ Dark</button>
	  <button id="btn-pdf" class="mdxw-btn" type="button" title="Export PDF">ðŸ“„ Export PDF</button>
      <div class="spacer"></div>
      <span style="opacity:0.65; font-size:12px;">mdxw</span>
    </div>

    <div id="content" class="markdown-body preview"></div>

    <!-- deps -->
    <script src="./deps/markdown-it.min.js"></script>
    <script src="./deps/highlight.min.js"></script>

    <!-- logic -->
    <script src="./preview.js"></script>
  </body>
</html>
